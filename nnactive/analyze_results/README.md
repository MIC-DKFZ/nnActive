# Analysis

This directory contains scripts and instructions for analyzing experimental results generated by the **nnActive** framework. The analysis focuses on evaluating model performance, ranking methods, and visualizing results. It also includes ablation studies to assess the impact of various factors on performance. The outputs are organized and stored in the `nnactive/results` directory for further inspection and reporting.

## Contains
Code for reproducing all analysis in: **nnActive: A Framework for Evaluation of Active Learning in 3D Biomedical SegmentationBiomedical Segmentation**

## Usage Instructions

### Setup
Make sure that data is saved inside `nnactive/results/raw_results` by either:

**Download Data**: Retrieve the required data from Hugging Face and save it in the `nnactive/results/raw_results` directory.


**Run Analysis**: Execute the following command, ensuring that `output_dir` points to the `nnactive/results` folder:
```bash
nnactive nnactive analyze_experiments --base_path ${data_dir} --raw_path ${data_dir} --output_path ${output_dir}
```

### Perform Analysis
The analysis results will be stored in the `nnactive/results` directory, organized by scripts.

The following scripts are used for the main evaluations:
- `main_results_tables.py`
- `main_method_ranking_analysis.py`
- `ppm_results.py`
- `ppm_rel_improvement.py`

The following scripts are specifically used for the ablations:
- `ablation_training_length.py`
- `ablation_query_size_ranking.py`
- `ablation_powerbald.py`
- `ablation_patchsize-bootstrap.py`

Others:
- `fgeff_plot.py` is used for the visualization of the fit
- `amos_classperformance.py` is used for the visualization of the performance on AMOS with regard to specific classes

## Additional Information

- **Configuration**: Paths and color schemes are defined in the `setup.py` file.
- **Evaluation Settings**: Specific evaluation settings and their corresponding names are configured in the `evaluator.py` file.
